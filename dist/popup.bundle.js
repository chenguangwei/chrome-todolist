(()=>{"use strict";var t,e={632:(t,e,a)=>{var s,l=a(963),n=a(252),r=a(577),o=a(262),i=a(924);!function(t){t[t.ImportantUrgent=1]="ImportantUrgent",t[t.ImportantNotUrgent=2]="ImportantNotUrgent",t[t.NotImportantUrgent=3]="NotImportantUrgent",t[t.NotImportantNotUrgent=4]="NotImportantNotUrgent"}(s||(s={}));const d=(0,i.Q_)("task",{state:()=>({tasks:[]}),getters:{getTasksByQuadrant:t=>e=>t.tasks.filter((t=>e===s.ImportantUrgent?t.important&&t.urgent:e===s.ImportantNotUrgent?t.important&&!t.urgent:e===s.NotImportantUrgent?!t.important&&t.urgent:!t.important&&!t.urgent))},actions:{async loadTasks(){const t=await chrome.storage.local.get("tasks");this.tasks=t.tasks||[]},async addTask(t){this.tasks.push(t),await this.saveTasks()},async updateTask(t){const e=this.tasks.findIndex((e=>e.id===t.id));-1!==e&&(this.tasks[e]=t,await this.saveTasks())},async deleteTask(t){this.tasks=this.tasks.filter((e=>e.id!==t)),await this.saveTasks()},async saveTasks(){await chrome.storage.local.set({tasks:this.tasks})}}}),c={class:"task-input bg-gray-100 rounded-lg p-4 mb-5"},u={class:"grid grid-cols-3 gap-4 mb-4"},p=(0,n.aZ)({__name:"TaskInput",setup(t){const e=d(),a=(0,o.qj)({title:"",description:"",deadline:"",important:!1,urgent:!1}),s=async()=>{if(!a.title||!a.deadline)return void alert("请填写任务标题和截止时间！");const t={id:Date.now(),...a,completed:!1,createdAt:new Date};await e.addTask(t),a.title="",a.description="",a.deadline="",a.important=!1,a.urgent=!1};return(t,e)=>((0,n.wg)(),(0,n.iD)("div",c,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t),type:"text",placeholder:"任务标题",class:"w-full px-3 py-2 border rounded mb-2"},null,512),[[l.nr,a.title]]),(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.description=t),placeholder:"任务描述",class:"w-full px-3 py-2 border rounded mb-2"},null,512),[[l.nr,a.description]]),(0,n._)("div",u,[(0,n._)("div",null,[e[5]||(e[5]=(0,n._)("label",{class:"block text-sm mb-1"},"截止日期：",-1)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.deadline=t),type:"datetime-local",class:"w-full px-3 py-2 border rounded"},null,512),[[l.nr,a.deadline]])]),(0,n._)("div",null,[e[6]||(e[6]=(0,n._)("label",{class:"block text-sm mb-1"},"重要性：",-1)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.important=t),type:"checkbox",class:"form-checkbox"},null,512),[[l.e8,a.important]])]),(0,n._)("div",null,[e[7]||(e[7]=(0,n._)("label",{class:"block text-sm mb-1"},"紧急性：",-1)),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>a.urgent=t),type:"checkbox",class:"form-checkbox"},null,512),[[l.e8,a.urgent]])])]),(0,n._)("button",{onClick:s,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600"}," 添加任务 ")]))}});var g=a(484),b=a.n(g);const m=(t,e="YYYY-MM-DD HH:mm")=>b()(t).format(e),w={class:"bg-white p-3 rounded shadow-sm mb-2"},h={class:"flex justify-between items-start"},y={class:"font-medium"},k={class:"text-sm text-gray-600 mt-1"},f={class:"mt-2 text-sm text-gray-500"},v=(0,n.aZ)({__name:"TaskCard",props:{task:{}},emits:["update","delete"],setup(t,{emit:e}){const a=t,s=e,l=()=>{s("update",a.task)},i=()=>{s("delete",a.task.id)};return(t,e)=>((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",h,[(0,n._)("h4",y,(0,r.zw)(t.task.title),1),(0,n._)("div",{class:"flex gap-2"},[(0,n._)("button",{onClick:l,class:"text-gray-500 hover:text-blue-500"},e[0]||(e[0]=[(0,n._)("i",{class:"ri-edit-line"},null,-1)])),(0,n._)("button",{onClick:i,class:"text-gray-500 hover:text-red-500"},e[1]||(e[1]=[(0,n._)("i",{class:"ri-delete-bin-line"},null,-1)]))])]),(0,n._)("p",k,(0,r.zw)(t.task.description),1),(0,n._)("div",f,[(0,n._)("time",null,(0,r.zw)((0,o.SU)(m)(t.task.deadline)),1)])]))}}),_={class:"h-full grid grid-cols-2 grid-rows-2 gap-4"},x={class:"text-lg font-semibold mb-3 sticky top-0 bg-inherit py-2"},C={class:"task-list space-y-2"},U=(0,n.aZ)({__name:"QuadrantView",setup(t){const e=d(),a=[{id:s.ImportantUrgent,title:"重要且紧急",bgClass:"bg-red-50"},{id:s.ImportantNotUrgent,title:"重要不紧急",bgClass:"bg-yellow-50"},{id:s.NotImportantUrgent,title:"紧急不重要",bgClass:"bg-blue-50"},{id:s.NotImportantNotUrgent,title:"不重要不紧急",bgClass:"bg-green-50"}],l=t=>e.getTasksByQuadrant(t),o=async t=>{await e.updateTask(t)},i=async t=>{await e.deleteTask(t)};return(0,n.bv)((async()=>{await e.loadTasks()})),(t,e)=>((0,n.wg)(),(0,n.iD)("div",_,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(a,(t=>(0,n._)("div",{key:t.id,class:(0,r.C_)(["p-4 rounded-lg overflow-auto",t.bgClass])},[(0,n._)("h3",x,(0,r.zw)(t.title),1),(0,n._)("div",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l(t.id),(t=>((0,n.wg)(),(0,n.j4)(v,{key:t.id,task:t,onUpdate:o,onDelete:i},null,8,["task"])))),128))])],2))),64))]))}}),T={class:"h-full flex flex-col"},D={class:"grid grid-cols-7 gap-1 mb-4"},I={class:"flex-1 grid grid-cols-7 gap-1 overflow-auto"},O={class:"flex justify-between items-center mb-2"},N={class:"text-xs text-gray-500"},j={class:"space-y-1"},z=["onClick"],Y=(0,n.aZ)({__name:"CalendarView",setup(t){const e=d(),a=["日","一","二","三","四","五","六"],s=b()(),l=s.startOf("month"),o=s.endOf("month"),i=(0,n.Fl)((()=>{const t=[];let e=l.startOf("week");const a=o.endOf("week");for(;e.isBefore(a);)t.push({date:e.toDate(),dayOfMonth:e.date(),isCurrentMonth:e.month()===s.month()}),e=e.add(1,"day");return t})),c=t=>b()(t).isSame(s,"day"),u=t=>e.tasks.filter((e=>b()(e.deadline).isSame(t,"day"))),p=t=>u(t).length,g=t=>t.completed?"bg-gray-100 text-gray-500 line-through":t.important&&t.urgent?"bg-red-100 text-red-800":t.important?"bg-yellow-100 text-yellow-800":t.urgent?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800";return(t,e)=>((0,n.wg)(),(0,n.iD)("div",T,[(0,n._)("div",D,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(a,(t=>(0,n._)("div",{key:t,class:"text-center font-bold p-2"},(0,r.zw)(t),1))),64))]),(0,n._)("div",I,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.value,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.date,class:(0,r.C_)(["p-2 min-h-[100px] border rounded",c(t.date)?"bg-blue-50 border-blue-200":"bg-white border-gray-200"])},[(0,n._)("div",O,[(0,n._)("span",{class:(0,r.C_)({"text-blue-600 font-bold":c(t.date)})},(0,r.zw)(t.dayOfMonth),3),(0,n._)("span",N,(0,r.zw)(p(t.date))+"个任务 ",1)]),(0,n._)("div",j,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u(t.date),(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:(0,r.C_)(["text-xs p-1 rounded cursor-pointer truncate",g(t)]),onClick:e=>(t=>{console.log("Task clicked:",t)})(t)},(0,r.zw)(t.title),11,z)))),128))])],2)))),128))])]))}}),H={class:"h-full flex flex-col"},V={class:"flex justify-between items-center p-4 border-b bg-white sticky top-0 z-10"},M={class:"space-x-4"},q={class:"flex-1 overflow-auto p-4"},K={class:"h-[calc(100%-80px)]"},Z=(0,n.aZ)({__name:"App",setup(t){const e=(0,o.iH)("quadrant"),a=()=>{chrome.windows.create({url:chrome.runtime.getURL("popup.html"),type:"popup",width:800,height:600})};return(t,s)=>((0,n.wg)(),(0,n.iD)("div",H,[(0,n._)("header",V,[s[2]||(s[2]=(0,n._)("h1",{class:"text-2xl font-bold"},"时间管理助手",-1)),(0,n._)("nav",M,[(0,n._)("button",{onClick:s[0]||(s[0]=t=>e.value="quadrant"),class:(0,r.C_)(["px-4 py-2 rounded transition-colors","quadrant"===e.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 四象限视图 ",2),(0,n._)("button",{onClick:s[1]||(s[1]=t=>e.value="calendar"),class:(0,r.C_)(["px-4 py-2 rounded transition-colors","calendar"===e.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 日历视图 ",2)]),(0,n._)("button",{onClick:a,class:"ml-4 px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 text-sm"}," 打开新窗口 ")]),(0,n._)("div",q,[(0,n.Wm)(p,{class:"mb-4 sticky top-0 bg-white z-10 pb-4"}),(0,n._)("div",K,["quadrant"===e.value?((0,n.wg)(),(0,n.j4)(U,{key:0})):((0,n.wg)(),(0,n.j4)(Y,{key:1}))])])]))}});(0,l.ri)(Z).mount("#app")}},a={};function s(t){var l=a[t];if(void 0!==l)return l.exports;var n=a[t]={exports:{}};return e[t].call(n.exports,n,n.exports,s),n.exports}s.m=e,t=[],s.O=(e,a,l,n)=>{if(!a){var r=1/0;for(c=0;c<t.length;c++){for(var[a,l,n]=t[c],o=!0,i=0;i<a.length;i++)(!1&n||r>=n)&&Object.keys(s.O).every((t=>s.O[t](a[i])))?a.splice(i--,1):(o=!1,n<r&&(r=n));if(o){t.splice(c--,1);var d=l();void 0!==d&&(e=d)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,l,n]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={42:0};s.O.j=e=>0===t[e];var e=(e,a)=>{var l,n,[r,o,i]=a,d=0;if(r.some((e=>0!==t[e]))){for(l in o)s.o(o,l)&&(s.m[l]=o[l]);if(i)var c=i(s)}for(e&&e(a);d<r.length;d++)n=r[d],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},a=self.webpackChunktodo_list=self.webpackChunktodo_list||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var l=s.O(void 0,[216],(()=>s(632)));l=s.O(l)})();